!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t){e.exports=function(e,t,s,n,r,a){var i,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(i=e,o=e.default);var c,u="function"==typeof o?o.options:o;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),s&&(u.functional=!0),r&&(u._scopeId=r),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):n&&(c=n),c){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:i,exports:o,options:u}}},function(e,t,s){s(2),e.exports=s(15)},function(e,t,s){Nova.booting(function(e,t){t.addRoutes([{name:"nova-mailman",path:"/nova-mailman",component:s(3)}])})},function(e,t,s){var n=s(0)(s(4),s(14),!1,null,null,null);e.exports=n.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(5),r=s.n(n),a=s(11),i=s.n(a);t.default={components:{Inbox:r.a,Preview:i.a},data:function(){return{currentMessage:null,messages:[]}},created:function(){this.getMessages(),this.registerListeners()},methods:{registerListeners:function(){Nova.$on("mailman:select:message",this.selectMessage),Nova.$on("mailman:delete:message",this.deleteMessage)},getMessages:function(){var e=this;Nova.request().get("/nova-vendor/jstoone/nova-mailman/mail").then(function(t){e.messages=t.data})},selectMessage:function(e){this.currentMessage=e},deleteMessage:function(e){var t=this;Nova.request().delete("/nova-vendor/jstoone/nova-mailman/mail/"+e.id).then(function(){t.messages=t.messages.filter(function(t){return t.id!==e.id}),t.currentMessage=null})}}}},function(e,t,s){var n=s(0)(s(6),s(10),!1,null,null,null);e.exports=n.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(7),r=s.n(n);t.default={components:{Message:r.a},props:{messages:[]},methods:{setCurrentMessage:function(e){this.currentMessage=e},formatTimestamp:function(e){return window.moment.unix(e).calendar()}}}},function(e,t,s){var n=s(0)(s(8),s(9),!1,null,null,null);e.exports=n.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{message:null},methods:{select:function(){Nova.$emit("mailman:select:message",this.message)},remove:function(){Nova.$emit("mailman:delete:message",this.message)}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border-b border-primary-10% cursor-pointer",on:{click:function(t){e.select(e.message)}}},[s("div",{staticClass:"p-4 border-l-2 border-transparent hover:border-primary"},[s("p",{staticClass:"flex justify-between"},[s("span",{},[e._v(e._s(e.message.recipient))]),e._v(" "),s("span",{staticClass:"text-80 text-xs"},[e._v(e._s(e.message.sent_at))])]),e._v(" "),s("p",{staticClass:"font-bold"},[e._v(e._s(e.message.subject))]),e._v(" "),s("div",{staticClass:"text-right"},[s("button",{staticClass:"appearance-none cursor-pointer text-70 hover:text-primary mr-3",attrs:{title:"Delete",type:"button"},on:{click:function(t){return t.preventDefault(),e.remove(t)}}},[s("svg",{staticClass:"fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20","aria-labelledby":"delete",role:"presentation"}},[s("path",{attrs:{"fill-rule":"nonzero",d:"M6 4V2a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2h5a1 1 0 0 1 0 2h-1v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6H1a1 1 0 1 1 0-2h5zM4 6v12h12V6H4zm8-2V2H8v2h4zM8 8a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1zm4 0a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1z"}})])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("card",{staticClass:"w-1/3 mr-2"},e._l(e.messages,function(t){return s("message",{key:t.id,attrs:{message:t},on:{click:function(s){e.$emit("update:currentMessage",t)}}})}))},staticRenderFns:[]}},function(e,t,s){var n=s(0)(s(12),s(13),!1,null,null,null);e.exports=n.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{message:null},methods:{}}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("card",{staticClass:"w-2/3",staticStyle:{height:"650px"}},[this.message?t("iframe",{staticClass:"w-full h-full",attrs:{src:this.message.link}}):t("heading",{staticClass:"mt-6 text-center"},[this._v("Select an email")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"flex justify-between ml-auto"},[s("heading",{staticClass:"mb-6"},[e._v("Mailman")]),e._v(" "),s("button",{staticClass:"btn btn-default btn-primary text-center",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.getMessages(t)}}},[e._v("\n            "+e._s(e.__("Refresh"))+"\n        ")])],1),e._v(" "),s("div",{staticClass:"flex"},[s("inbox",{attrs:{messages:e.messages}}),e._v(" "),s("preview",{attrs:{message:e.currentMessage}})],1)])},staticRenderFns:[]}},function(e,t){}]);